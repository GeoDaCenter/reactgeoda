(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{22684:function(){},817:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return v}});var n=r(57437),a=r(2336),o=r(2910),i=r(91806),s=r(89687),c=r(40222);let u=r.n(c)(),l=null;async function p(){return null===l&&(l=u()),l}async function f(t,e,r){let n=await p(),a=t.length,o=new n.VectorDouble;o.resize(a,0);for(let e=0;e<a;++e)o.set(e,t[e]);let i=new n.VecVecUInt;for(let t=0;t<a;++t){let r=e[t],a=new n.VectorUInt;for(let t=0,e=r.length;t<e;++t)a.push_back(r[t]);i.push_back(a)}let s=n.localMoran(o,i,r);return{isValid:s.isValid(),clusters:d(s.getClusters()),lagValues:d(s.getLagValues()),lisaValues:d(s.getLisaValues()),pValues:d(s.getPValues())}}function d(t){let e=[],r=t.size();for(let n=0;n<r;++n)e.push(t.get(n));return e}var h=r(2265);setTimeout(async()=>{await p()},600);var v=()=>{let t=(0,i.Fg)();return(0,s.bW)(),(0,h.useCallback)(async()=>{let t=await f([3,3,0,9,8,8.5],[[1],[0],[],[4,5],[3,5],[3,4]],99);return console.log("local moran result:",t),t},[]),(0,n.jsx)("div",{style:{height:"100%",padding:"0px"},className:"geoda-kepler-map",children:(0,n.jsx)(a.ZP,{defaultHeight:400,defaultWidth:500,children:e=>{let{height:r,width:a}=e;return console.log("height",r,"width",a),(0,n.jsx)(o.ZPm,{id:"kepler_map",mapboxApiAccessToken:"pk.eyJ1IjoianVzdGlua2xlaWQiLCJhIjoiY2xqNTIybnp3MDZzaDNxcnF3MGhpZGt1aiJ9.NlpIZZvaK7DrIZ87qi1pZA",height:r,width:a,theme:t})}})})}},89687:function(t,e,r){"use strict";r.d(e,{EW:function(){return h},Zi:function(){return d},bW:function(){return v}});var n=r(2265),a=r(36629),o=r(79121),i=r(37037),s=r(41762);let c={mvp:{mainModule:i,mainWorker:new r.U(r(82471)).toString()},eh:{mainModule:s,mainWorker:new r.U(r(37770)).toString()}},u=null,l=null,p=null;async function f(){if(null===u){await new Promise(t=>setTimeout(t,2e3));let t=await o.Dn(c),e=new Worker(t.mainWorker),r=new o.kw;return u=new o.ak(r,e),await u.instantiate(t.mainModule,t.pthreadWorker),u}return null}async function d(t){if(u){if(!p){!l&&t&&(l=t);let e=await u.connect(),r=(await e.query('SUMMARIZE "'.concat(l,'"'))).toArray().map(t=>t.toJSON());await e.close();let n=r.map(t=>Object.values(t).join(",")).join("\n"),a=Object.keys(r[0]).join(",");p="".concat(a,"\n").concat(n)}return p}return""}function h(){return p}function v(){return{query:(0,n.useCallback)(async t=>{var e;if("SELECT"!==(t=t.trim()).substring(0,6).toUpperCase())throw Error("Only SELECT queries are supported");if(!u)throw Error("DuckDB is not initialized");t="SELECT row_index AS selected_index, ".concat(t.substring(6));let r=await u.connect(),n=null===(e=(await r.query(t)).getChildAt(0))||void 0===e?void 0:e.toArray();return await r.close(),n||[]},[]),importArrowFile:(0,n.useCallback)(async t=>{if(u){let e=await u.connect();if(l=t.name,!(await e.query("select * from information_schema.tables")).toArray().map(t=>t.toJSON()).some(t=>t.table_name===l))try{let r=await t.arrayBuffer(),n=(0,a.p)(r);await e.insertArrowTable(n,{name:l}),await e.query('ALTER TABLE "'.concat(l,'" ADD COLUMN row_index INTEGER DEFAULT 0')),await e.query("CREATE SEQUENCE serial"),await e.query('UPDATE "'.concat(l,"\" SET row_index = nextval('serial') - 1"));let o=await d();console.log("summary",o)}catch(t){console.error(t)}await e.close()}},[])}}setTimeout(async()=>{u=await f()},200)},40222:function(t,e,r){var n,a=r(62601),o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.ready=new Promise((t,r)=>{e=t,o=r});var e,o,i,s,c,u,l,p,f,d,h,v,y,m,g,w,b,T,C,$,P,A,_=Object.assign({},t),k="function"==typeof importScripts,E="object"==typeof a&&"object"==typeof a.versions&&"string"==typeof a.versions.node,W="";if(E){var S=r(22684),j=r(29743);W=k?j.dirname(W)+"/":"//",i=(t,e)=>(t=H(t)?new URL(t):j.normalize(t),S.readFileSync(t,e?void 0:"utf8")),c=t=>{var e=i(t,!0);return e.buffer||(e=new Uint8Array(e)),e},s=function(t,e,r){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];t=H(t)?new URL(t):j.normalize(t),S.readFile(t,n?void 0:"utf8",(t,a)=>{t?r(t):e(n?a.buffer:a)})},!t.thisProgram&&a.argv.length>1&&a.argv[1].replace(/\\/g,"/"),a.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else k?W=self.location.href:"undefined"!=typeof document&&document.currentScript&&(W=document.currentScript.src),n&&(W=n),W=0!==W.indexOf("blob:")?W.substr(0,W.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},k&&(c=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),s=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{if(200==n.status||0==n.status&&n.response){e(n.response);return}r()},n.onerror=r,n.send(null)};t.print||console.log.bind(console);var O=t.printErr||console.error.bind(console);Object.assign(t,_),_=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(u=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&q("no native wasm support detected");var F=!1;function x(){var e=l.buffer;t.HEAP8=p=new Int8Array(e),t.HEAP16=d=new Int16Array(e),t.HEAPU8=f=new Uint8Array(e),t.HEAPU16=h=new Uint16Array(e),t.HEAP32=v=new Int32Array(e),t.HEAPU32=y=new Uint32Array(e),t.HEAPF32=m=new Float32Array(e),t.HEAPF64=g=new Float64Array(e)}var D=[],R=[],I=[],U=0,V=null,M=null;function q(e){t.onAbort&&t.onAbort(e),O(e="Aborted("+e+")"),F=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw o(r),r}function L(t){return t.startsWith("data:application/octet-stream;base64,")}function H(t){return t.startsWith("file://")}function z(t){if(t==b&&u)return new Uint8Array(u);if(c)return c(t);throw"both async and sync fetching of the wasm failed"}function B(t,e,r){return(function(t){if(!u){if("function"==typeof fetch&&!H(t))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>z(t));if(s)return new Promise((e,r)=>{s(t,t=>e(new Uint8Array(t)),r)})}return Promise.resolve().then(()=>z(t))})(t).then(t=>WebAssembly.instantiate(t,e)).then(t=>t).then(r,t=>{O("failed to asynchronously prepare wasm: ".concat(t)),q(t)})}L(b="../../../geoda.wasm")||(C=b,b=t.locateFile?t.locateFile(C,W):W+C);var N=e=>{for(;e.length>0;)e.shift()(t)},Z=[],G=0,J=0;function X(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){y[this.ptr+4>>>2>>>0]=t},this.get_type=function(){return y[this.ptr+4>>>2>>>0]},this.set_destructor=function(t){y[this.ptr+8>>>2>>>0]=t},this.get_destructor=function(){return y[this.ptr+8>>>2>>>0]},this.set_caught=function(t){t=t?1:0,p[this.ptr+12>>>0>>>0]=t},this.get_caught=function(){return 0!=p[this.ptr+12>>>0>>>0]},this.set_rethrown=function(t){t=t?1:0,p[this.ptr+13>>>0>>>0]=t},this.get_rethrown=function(){return 0!=p[this.ptr+13>>>0>>>0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e)},this.set_adjusted_ptr=function(t){y[this.ptr+16>>>2>>>0]=t},this.get_adjusted_ptr=function(){return y[this.ptr+16>>>2>>>0]},this.get_exception_ptr=function(){if(ev(this.get_type()))return y[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var Q=void 0,K=t=>{for(var e="",r=t;f[r>>>0];)e+=Q[f[r++>>>0]];return e},Y={},tt={},te={},tr=void 0,tn=t=>{throw new tr(t)},ta=void 0,to=t=>{throw new ta(t)},ti=(t,e,r)=>{function n(e){var n=r(e);n.length!==t.length&&to("Mismatched type converter count");for(var a=0;a<t.length;++a)ts(t[a],n[a])}t.forEach(function(t){te[t]=e});var a=Array(e.length),o=[],i=0;e.forEach((t,e)=>{tt.hasOwnProperty(t)?a[e]=tt[t]:(o.push(t),Y.hasOwnProperty(t)||(Y[t]=[]),Y[t].push(()=>{a[e]=tt[t],++i===o.length&&n(a)}))}),0===o.length&&n(a)};function ts(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in e))throw TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.name;if(t||tn('type "'.concat(n,'" must have a positive integer typeid pointer')),tt.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;tn("Cannot register type '".concat(n,"' twice"))}if(tt[t]=e,delete te[t],Y.hasOwnProperty(t)){var a=Y[t];delete Y[t],a.forEach(t=>t())}}(t,e,r)}var tc=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),tu=t=>{tn(t.$$.ptrType.registeredClass.name+" instance already deleted")},tl=!1,tp=t=>{},tf=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},td=t=>{t.count.value-=1,0===t.count.value&&tf(t)},th=(t,e,r)=>{if(e===r)return t;if(void 0===r.baseClass)return null;var n=th(t,e,r.baseClass);return null===n?null:r.downcast(n)},tv={},ty=[],tm=()=>{for(;ty.length;){var t=ty.pop();t.$$.deleteScheduled=!1,t.delete()}},tg=void 0,tw={},tb=(t,e)=>{for(void 0===e&&tn("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e},tT=(t,e)=>tw[e=tb(t,e)],tC=(t,e)=>(e.ptrType&&e.ptr||to("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&to("Both smartPtrType and smartPtr must be specified"),e.count={value:1},t$(Object.create(t,{$$:{value:e}}))),t$=t=>"undefined"==typeof FinalizationRegistry?(t$=t=>t,t):(tl=new FinalizationRegistry(t=>{td(t.$$)}),t$=t=>{var e=t.$$;return e.smartPtr&&tl.register(t,{$$:e},t),t},tp=t=>tl.unregister(t),t$(t));function tP(){}var tA=t=>{if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_".concat(t):t};function t_(t,e){return({[t=tA(t)]:function(){return e.apply(this,arguments)}})[t]}var tk=(t,e,r)=>{if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||tn("Function '".concat(r,"' called with an invalid number of arguments (").concat(arguments.length,") - expects one of (").concat(t[e].overloadTable,")!")),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}},tE=(e,r,n)=>{t.hasOwnProperty(e)?((void 0===n||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[n])&&tn("Cannot register public name '".concat(e,"' twice")),tk(t,e,e),t.hasOwnProperty(n)&&tn("Cannot register multiple overloads of a function with the same number of arguments (".concat(n,")!")),t[e].overloadTable[n]=r):(t[e]=r,void 0!==n&&(t[e].numArguments=n))};function tW(t,e,r,n,a,o,i,s){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}var tS=(t,e,r)=>{for(;e!==r;)e.upcast||tn("Expected null or instance of ".concat(r.name,", got an instance of ").concat(e.name)),t=e.upcast(t),e=e.baseClass;return t};function tj(t,e){if(null===e)return this.isReference&&tn("null is not a valid ".concat(this.name)),0;e.$$||tn('Cannot pass "'.concat(t1(e),'" as a ').concat(this.name)),e.$$.ptr||tn("Cannot pass deleted object as a pointer of type ".concat(this.name));var r=e.$$.ptrType.registeredClass;return tS(e.$$.ptr,r,this.registeredClass)}function tO(t,e){if(null===e)return(this.isReference&&tn("null is not a valid ".concat(this.name)),this.isSmartPointer)?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;e.$$||tn('Cannot pass "'.concat(t1(e),'" as a ').concat(this.name)),e.$$.ptr||tn("Cannot pass deleted object as a pointer of type ".concat(this.name)),!this.isConst&&e.$$.ptrType.isConst&&tn("Cannot convert argument of type ".concat(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name," to parameter type ").concat(this.name));var r,n=e.$$.ptrType.registeredClass;if(r=tS(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&tn("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:tn("Cannot convert argument of type ".concat(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name," to parameter type ").concat(this.name));break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var a=e.clone();r=this.rawShare(r,tK.toHandle(()=>a.delete())),null!==t&&t.push(this.rawDestructor,r)}break;default:tn("Unsupporting sharing policy")}return r}function tF(t,e){if(null===e)return this.isReference&&tn("null is not a valid ".concat(this.name)),0;e.$$||tn('Cannot pass "'.concat(t1(e),'" as a ').concat(this.name)),e.$$.ptr||tn("Cannot pass deleted object as a pointer of type ".concat(this.name)),e.$$.ptrType.isConst&&tn("Cannot convert argument of type ".concat(e.$$.ptrType.name," to parameter type ").concat(this.name));var r=e.$$.ptrType.registeredClass;return tS(e.$$.ptr,r,this.registeredClass)}function tx(t){return this.fromWireType(y[t>>>2>>>0])}function tD(t,e,r,n,a,o,i,s,c,u,l){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=c,this.rawShare=u,this.rawDestructor=l,a||void 0!==e.baseClass?this.toWireType=tO:(n?this.toWireType=tj:this.toWireType=tF,this.destructorFunction=null)}var tR=(e,r,n)=>{t.hasOwnProperty(e)||to("Replacing nonexistant public symbol"),void 0!==t[e].overloadTable&&void 0!==n?t[e].overloadTable[n]=r:(t[e]=r,t[e].argCount=n)},tI=(e,r,n)=>{var a=t["dynCall_"+e];return n&&n.length?a.apply(null,[r].concat(n)):a.call(null,r)},tU=[],tV=t=>{var e=tU[t];return e||(t>=tU.length&&(tU.length=t+1),tU[t]=e=w.get(t)),e},tM=(t,e,r)=>t.includes("j")?tI(t,e,r):tV(e).apply(null,r),tq=(t,e)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),tM(t,e,r)}},tL=(t,e)=>{var r=(t=K(t)).includes("j")?tq(t,e):tV(e);return"function"!=typeof r&&tn("unknown function pointer with signature ".concat(t,": ").concat(e)),r},tH=void 0,tz=t=>{var e=ef(t),r=K(e);return eh(e),r},tB=(t,e)=>{var r=[],n={};throw e.forEach(function t(e){if(!n[e]&&!tt[e]){if(te[e]){te[e].forEach(t);return}r.push(e),n[e]=!0}}),new tH("".concat(t,": ")+r.map(tz).join([", "]))},tN=(t,e)=>{for(var r=[],n=0;n<t;n++)r.push(y[e+4*n>>>2>>>0]);return r},tZ=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function tG(t,e,r,n,a,o){var i=e.length;i<2&&tn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==e[1]&&null!==r,c=!1,u=1;u<e.length;++u)if(null!==e[u]&&void 0===e[u].destructorFunction){c=!0;break}for(var l="void"!==e[0].name,p="",f="",u=0;u<i-2;++u)p+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var d="\n        return function ".concat(tA(t),"(").concat(p,") {\n        if (arguments.length !== ").concat(i-2,") {\n          throwBindingError('function ").concat(t," called with ' + arguments.length + ' arguments, expected ").concat(i-2,"');\n        }");c&&(d+="var destructors = [];\n");var h=c?"destructors":"null",v=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[tn,n,a,tZ,e[0],e[1]];s&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(var u=0;u<i-2;++u)d+="var arg"+u+"Wired = argType"+u+".toWireType("+h+", arg"+u+"); // "+e[u+2].name+"\n",v.push("argType"+u),y.push(e[u+2]);if(s&&(f="thisWired"+(f.length>0?", ":"")+f),d+=(l||o?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",c)d+="runDestructors(destructors);\n";else for(var u=s?1:2;u<e.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==e[u].destructorFunction&&(d+=m+"_dtor("+m+"); // "+e[u].name+"\n",v.push(m+"_dtor"),y.push(e[u].destructorFunction))}return l&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",v.push(d),(function(t,e){if(!(t instanceof Function))throw TypeError("new_ called with constructor type ".concat(typeof t," which is not a function"));var r=t_(t.name||"unknownFunctionName",function(){});r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return a instanceof Object?a:n})(Function,v).apply(null,y)}function tJ(){this.allocated=[void 0],this.freelist=[]}var tX=new tJ;function tQ(t){(t>>>=0)>=tX.reserved&&0==--tX.get(t).refcount&&tX.free(t)}var tK={toValue:t=>(t||tn("Cannot use deleted val. handle = "+t),tX.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return tX.allocate({refcount:1,value:t})}}};function tY(t){return this.fromWireType(v[t>>>2>>>0])}var t0=(t,e,r)=>{switch(e){case 1:return r?function(t){return this.fromWireType(p[t>>>0>>>0])}:function(t){return this.fromWireType(f[t>>>0>>>0])};case 2:return r?function(t){return this.fromWireType(d[t>>>1>>>0])}:function(t){return this.fromWireType(h[t>>>1>>>0])};case 4:return r?function(t){return this.fromWireType(v[t>>>2>>>0])}:function(t){return this.fromWireType(y[t>>>2>>>0])};default:throw TypeError("invalid integer width (".concat(e,"): ").concat(t))}},t2=(t,e)=>{var r=tt[t];return void 0===r&&tn(e+" has unknown type "+tz(t)),r},t1=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},t6=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(m[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(g[t>>>3>>>0])};default:throw TypeError("invalid float width (".concat(e,"): ").concat(t))}},t3=(t,e,r)=>{switch(e){case 1:return r?t=>p[t>>>0>>>0]:t=>f[t>>>0>>>0];case 2:return r?t=>d[t>>>1>>>0]:t=>h[t>>>1>>>0];case 4:return r?t=>v[t>>>2>>>0]:t=>y[t>>>2>>>0];default:throw TypeError("invalid integer width (".concat(e,"): ").concat(t))}},t4=(t,e,r,n)=>{if(r>>>=0,!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++i)),s<=127){if(r>=o)break;e[r++>>>0]=s}else if(s<=2047){if(r+1>=o)break;e[r++>>>0]=192|s>>6,e[r++>>>0]=128|63&s}else if(s<=65535){if(r+2>=o)break;e[r++>>>0]=224|s>>12,e[r++>>>0]=128|s>>6&63,e[r++>>>0]=128|63&s}else{if(r+3>=o)break;e[r++>>>0]=240|s>>18,e[r++>>>0]=128|s>>12&63,e[r++>>>0]=128|s>>6&63,e[r++>>>0]=128|63&s}}return e[r>>>0]=0,r-a},t8=(t,e,r)=>t4(t,f,e,r),t5=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},t7="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,t9=(t,e,r)=>{for(var n=(e>>>=0)+r,a=e;t[a]&&!(a>=n);)++a;if(a-e>16&&t.buffer&&t7)return t7.decode(t.subarray(e,a));for(var o="";e<a;){var i=t[e++];if(!(128&i)){o+=String.fromCharCode(i);continue}var s=63&t[e++];if((224&i)==192){o+=String.fromCharCode((31&i)<<6|s);continue}var c=63&t[e++];if((i=(240&i)==224?(15&i)<<12|s<<6|c:(7&i)<<18|s<<12|c<<6|63&t[e++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}return o},et=(t,e)=>(t>>>=0)?t9(f,t,e):"",ee="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,er=(t,e)=>{for(var r=t,n=r>>1,a=n+e/2;!(n>=a)&&h[n>>>0];)++n;if((r=n<<1)-t>32&&ee)return ee.decode(f.subarray(t>>>0,r>>>0));for(var o="",i=0;!(i>=e/2);++i){var s=d[t+2*i>>>1>>>0];if(0==s)break;o+=String.fromCharCode(s)}return o},en=(t,e,r)=>{if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=e,a=(r-=2)<2*t.length?r/2:t.length,o=0;o<a;++o){var i=t.charCodeAt(o);d[e>>>1>>>0]=i,e+=2}return d[e>>>1>>>0]=0,e-n},ea=t=>2*t.length,eo=(t,e)=>{for(var r=0,n="";!(r>=e/4);){var a=v[t+4*r>>>2>>>0];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},ei=(t,e,r)=>{if(e>>>=0,void 0===r&&(r=2147483647),r<4)return 0;for(var n=e,a=n+r-4,o=0;o<t.length;++o){var i=t.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++o)),v[e>>>2>>>0]=i,(e+=4)+4>a)break}return v[e>>>2>>>0]=0,e-n},es=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e},ec=()=>3221225472,eu=t=>{var e=(t-l.buffer.byteLength+65535)/65536;try{return l.grow(e),x(),1}catch(t){}};(()=>{for(var t=Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Q=t})(),tr=t.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},ta=t.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},tP.prototype.isAliasOf=function(t){if(!(this instanceof tP)||!(t instanceof tP))return!1;for(var e=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=t.$$.ptrType.registeredClass,a=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&r===a},tP.prototype.clone=function(){if(this.$$.ptr||tu(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=t$(Object.create(Object.getPrototypeOf(this),{$$:{value:tc(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},tP.prototype.delete=function(){this.$$.ptr||tu(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&tn("Object already scheduled for deletion"),tp(this),td(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},tP.prototype.isDeleted=function(){return!this.$$.ptr},tP.prototype.deleteLater=function(){return this.$$.ptr||tu(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&tn("Object already scheduled for deletion"),ty.push(this),1===ty.length&&tg&&tg(tm),this.$$.deleteScheduled=!0,this},t.getInheritedInstanceCount=()=>Object.keys(tw).length,t.getLiveInheritedInstances=()=>{var t=[];for(var e in tw)tw.hasOwnProperty(e)&&t.push(tw[e]);return t},t.flushPendingDeletes=tm,t.setDelayFunction=t=>{tg=t,ty.length&&tg&&tg(tm)},tD.prototype.getPointee=function(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},tD.prototype.destructor=function(t){this.rawDestructor&&this.rawDestructor(t)},tD.prototype.argPackAdvance=8,tD.prototype.readValueFromPointer=tx,tD.prototype.deleteObject=t=>{null!==t&&t.delete()},tD.prototype.fromWireType=function(t){var e,r=this.getPointee(t);if(!r)return this.destructor(t),null;var n=tT(this.registeredClass,r);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=r,n.$$.smartPtr=t,n.clone();var a=n.clone();return this.destructor(t),a}function o(){return this.isSmartPointer?tC(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:t}):tC(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var i=tv[this.registeredClass.getActualType(r)];if(!i)return o.call(this);e=this.isConst?i.constPointerType:i.pointerType;var s=th(r,this.registeredClass,e.registeredClass);return null===s?o.call(this):this.isSmartPointer?tC(e.registeredClass.instancePrototype,{ptrType:e,ptr:s,smartPtrType:this,smartPtr:t}):tC(e.registeredClass.instancePrototype,{ptrType:e,ptr:s})},tH=t.UnboundTypeError=($=Error,(A=t_(P="UnboundTypeError",function(t){this.name=P,this.message=t;var e=Error(t).stack;void 0!==e&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create($.prototype),A.prototype.constructor=A,A.prototype.toString=function(){return void 0===this.message?this.name:"".concat(this.name,": ").concat(this.message)},A),Object.assign(tJ.prototype,{get(t){return this.allocated[t]},has(t){return void 0!==this.allocated[t]},allocate(t){var e=this.freelist.pop()||this.allocated.length;return this.allocated[e]=t,e},free(t){this.allocated[t]=void 0,this.freelist.push(t)}}),tX.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),tX.reserved=tX.allocated.length,t.count_emval_handles=()=>{for(var t=0,e=tX.reserved;e<tX.allocated.length;++e)void 0!==tX.allocated[e]&&++t;return t};var el={w:()=>{var t=Z.pop();t||q("no exception to throw");var e=t.excPtr;throw!t.get_rethrown()&&(Z.push(t),t.set_rethrown(!0),t.set_caught(!1),J++),G=e},b:function(t,e,r){throw e>>>=0,r>>>=0,new X(t>>>=0).init(e,r),G=t,J++,G},o:function(t,e,r,n,a){},t:function(t,e,r,n){e>>>=0,ts(t>>>=0,{name:e=K(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:n},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(f[t>>>0])},destructorFunction:null})},d:function(t,e,r,n,a,o,i,s,c,u,l,p,f){t>>>=0,e>>>=0,r>>>=0,n>>>=0,a>>>=0,o>>>=0,i>>>=0,s>>>=0,c>>>=0,u>>>=0,l>>>=0,p>>>=0,f>>>=0,l=K(l),o=tL(a,o),s&&(s=tL(i,s)),u&&(u=tL(c,u)),f=tL(p,f);var d=tA(l);tE(d,function(){tB("Cannot construct ".concat(l," due to unbound types"),[n])}),ti([t,e,r],n?[n]:[],function(e){e=e[0],a=n?(r=e.registeredClass).instancePrototype:tP.prototype;var r,a,i=t_(d,function(){if(Object.getPrototypeOf(this)!==c)throw new tr("Use 'new' to construct "+l);if(void 0===p.constructor_body)throw new tr(l+" has no accessible constructor");var t=p.constructor_body[arguments.length];if(void 0===t)throw new tr("Tried to invoke ctor of ".concat(l," with invalid number of parameters (").concat(arguments.length,") - expected (").concat(Object.keys(p.constructor_body).toString(),") parameters instead!"));return t.apply(this,arguments)}),c=Object.create(a,{constructor:{value:i}});i.prototype=c;var p=new tW(l,i,c,f,r,o,s,u);p.baseClass&&(void 0===p.baseClass.__derivedClasses&&(p.baseClass.__derivedClasses=[]),p.baseClass.__derivedClasses.push(p));var h=new tD(l,p,!0,!1,!1),v=new tD(l+"*",p,!1,!1,!1),y=new tD(l+" const*",p,!1,!0,!1);return tv[t]={pointerType:v,constPointerType:y},tR(d,i),[h,v,y]})},e:function(t,e,r,n,a,o){t>>>=0,r>>>=0,n>>>=0,a>>>=0,o>>>=0;var i=tN(e,r);a=tL(n,a),ti([],[t],function(t){t=t[0];var r="constructor ".concat(t.name);if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new tr("Cannot register multiple constructors with identical number of parameters (".concat(e-1,") for class '").concat(t.name,"'! Overload resolution is currently only performed using the parameter count, not actual type info!"));return t.registeredClass.constructor_body[e-1]=()=>{tB("Cannot construct ".concat(t.name," due to unbound types"),i)},ti([],i,n=>(n.splice(1,0,null),t.registeredClass.constructor_body[e-1]=tG(r,n,null,a,o),[])),[]})},a:function(t,e,r,n,a,o,i,s,c){t>>>=0,e>>>=0,n>>>=0,a>>>=0,o>>>=0,i>>>=0;var u=tN(r,n);e=K(e),o=tL(a,o),ti([],[t],function(t){t=t[0];var n="".concat(t.name,".").concat(e);function a(){tB("Cannot call ".concat(n," due to unbound types"),u)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.registeredClass.pureVirtualFunctions.push(e);var l=t.registeredClass.instancePrototype,p=l[e];return void 0===p||void 0===p.overloadTable&&p.className!==t.name&&p.argCount===r-2?(a.argCount=r-2,a.className=t.name,l[e]=a):(tk(l,e,n),l[e].overloadTable[r-2]=a),ti([],u,function(a){var s=tG(n,a,t,o,i,c);return void 0===l[e].overloadTable?(s.argCount=r-2,l[e]=s):l[e].overloadTable[r-2]=s,[]}),[]})},s:function(t,e){e>>>=0,ts(t>>>=0,{name:e=K(e),fromWireType:t=>{var e=tK.toValue(t);return tQ(t),e},toWireType:(t,e)=>tK.toHandle(e),argPackAdvance:8,readValueFromPointer:tY,destructorFunction:null})},q:function(t,e,r,n){function a(){}t>>>=0,e>>>=0,r>>>=0,e=K(e),a.values={},ts(t,{name:e,constructor:a,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:t0(e,r,n),destructorFunction:null}),tE(e,a)},i:function(t,e,r){e>>>=0,r>>>=0;var n=t2(t>>>=0,"enum");e=K(e);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:t_("".concat(n.name,"_").concat(e),function(){})}});a.values[r]=o,a[e]=o},m:function(t,e,r){e>>>=0,r>>>=0,ts(t>>>=0,{name:e=K(e),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:t6(e,r),destructorFunction:null})},g:function(t,e,r,n,a,o,i){t>>>=0,r>>>=0,n>>>=0,a>>>=0,o>>>=0;var s=tN(e,r);t=K(t),a=tL(n,a),tE(t,function(){tB("Cannot call ".concat(t," due to unbound types"),s)},e-1),ti([],s,function(r){var n=[r[0],null].concat(r.slice(1));return tR(t,tG(t,n,null,a,o,i),e-1),[]})},f:function(t,e,r,n,a){t>>>=0,e>>>=0,r>>>=0,e=K(e),-1===a&&(a=4294967295);var o=t=>t;if(0===n){var i=32-8*r;o=t=>t<<i>>>i}var s=e.includes("unsigned"),c=(t,e)=>{};ts(t,{name:e,fromWireType:o,toWireType:s?function(t,e){return c(e,this.name),e>>>0}:function(t,e){return c(e,this.name),e},argPackAdvance:8,readValueFromPointer:t3(e,r,0!==n),destructorFunction:null})},c:function(t,e,r){t>>>=0,r>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function a(t){var e=y[t>>>2>>>0],r=y[t+4>>>2>>>0];return new n(p.buffer,r,e)}ts(t,{name:r=K(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},l:function(t,e){t>>>=0,e>>>=0;var r="std::string"===(e=K(e));ts(t,{name:e,fromWireType:t=>{var e,n=y[t>>>2>>>0],a=t+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==f[s>>>0]){var c=s-o,u=et(o,c);void 0===e?e=u:e+="\x00"+u,o=s+1}}else{for(var l=Array(n),i=0;i<n;++i)l[i]=String.fromCharCode(f[a+i>>>0]);e=l.join("")}return eh(t),e},toWireType:(t,e)=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n,a="string"==typeof e;a||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||tn("Cannot pass non-string to std::string"),n=r&&a?t5(e):e.length;var o=ed(4+n+1),i=o+4;if(y[o>>>2>>>0]=n,r&&a)t8(e,i,n+1);else if(a)for(var s=0;s<n;++s){var c=e.charCodeAt(s);c>255&&(eh(i),tn("String has UTF-16 code units that do not fit in 8 bits")),f[i+s>>>0]=c}else for(var s=0;s<n;++s)f[i+s>>>0]=e[s];return null!==t&&t.push(eh,o),o},argPackAdvance:8,readValueFromPointer:tx,destructorFunction:t=>eh(t)})},j:function(t,e,r){var n,a,o,i,s;t>>>=0,e>>>=0,r>>>=0,r=K(r),2===e?(n=er,a=en,i=ea,o=()=>h,s=1):4===e&&(n=eo,a=ei,i=es,o=()=>y,s=2),ts(t,{name:r,fromWireType:t=>{for(var r,a=y[t>>>2>>>0],i=o(),c=t+4,u=0;u<=a;++u){var l=t+4+u*e;if(u==a||0==i[l>>>s]){var p=l-c,f=n(c,p);void 0===r?r=f:r+="\x00"+f,c=l+e}}return eh(t),r},toWireType:(t,n)=>{"string"!=typeof n&&tn("Cannot pass non-string to C++ string type ".concat(r));var o=i(n),c=ed(4+o+e);return y[c>>>2]=o>>s,a(n,c+4,o+e),null!==t&&t.push(eh,c),c},argPackAdvance:8,readValueFromPointer:tY,destructorFunction:t=>eh(t)})},u:function(t,e){e>>>=0,ts(t>>>=0,{isVoid:!0,name:e=K(e),argPackAdvance:0,fromWireType:()=>void 0,toWireType:(t,e)=>void 0})},v:tQ,n:function(t){(t>>>=0)>4&&(tX.get(t).refcount+=1)},h:function(t,e){t>>>=0,e>>>=0;var r=(t=t2(t,"_emval_take_value")).readValueFromPointer(e);return tK.toHandle(r)},k:()=>{q("")},r:function(t,e,r){return t>>>=0,e>>>=0,r>>>=0,f.copyWithin(t>>>0,e>>>0,e+r>>>0)},p:function(t){t>>>=0;var e=f.length,r=ec();if(t>r)return!1;for(var n=(t,e)=>t+(e-t%e)%e,a=1;a<=4;a*=2){var o=e*(1+.2/a);if(o=Math.min(o,t+100663296),eu(Math.min(r,n(Math.max(t,o),65536))))return!0}return!1}},ep=function(){var e,r,n,a={a:el};function i(e,r){var n,a,o,i,s=e.exports;return l=(n=Object.assign({},n=s),a=t=>e=>t(e)>>>0,o=t=>()=>t()>>>0,n.A=a(n.A),n.__errno_location=o(n.__errno_location),n.C=a(n.C),n.stackSave=o(n.stackSave),n.stackAlloc=a(n.stackAlloc),ep=s=n).x,x(),w=ep.z,i=ep.y,R.unshift(i),function(e){if(U--,t.monitorRunDependencies&&t.monitorRunDependencies(U),0==U&&(null!==V&&(clearInterval(V),V=null),M)){var r=M;M=null,r()}}(0),s}if(U++,t.monitorRunDependencies&&t.monitorRunDependencies(U),t.instantiateWasm)try{return t.instantiateWasm(a,i)}catch(t){O("Module.instantiateWasm callback failed with error: ".concat(t)),o(t)}return(e=u,r=b,n=function(t){i(t.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||L(r)||H(r)||E||"function"!=typeof fetch?B(r,a,n):fetch(r,{credentials:"same-origin"}).then(t=>WebAssembly.instantiateStreaming(t,a).then(n,function(t){return O("wasm streaming compile failed: ".concat(t)),O("falling back to ArrayBuffer instantiation"),B(r,a,n)}))).catch(o),{}}(),ef=t=>(ef=ep.A)(t),ed=(t.__embind_initialize_bindings=()=>(t.__embind_initialize_bindings=ep.B)(),t=>(ed=ep.C)(t)),eh=t=>(eh=ep.D)(t),ev=t=>(ev=ep.E)(t);function ey(){!(U>0)&&(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;){var e;e=t.preRun.shift(),D.unshift(e)}N(D)}(),U>0||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),r()},1)):r()));function r(){!T&&(T=!0,t.calledRun=!0,F||(N(R),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e;e=t.postRun.shift(),I.unshift(e)}N(I)}()))}}if(M=function t(){T||ey(),T||(M=t)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ey(),t.ready});t.exports=o}}]);
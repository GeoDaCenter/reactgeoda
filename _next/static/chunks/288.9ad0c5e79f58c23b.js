"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{77507:function(e,t,r){e.exports={Analyzer:r(89998),DATA_TYPES:r(42627).DATA_TYPES,RegexList:r(82752)}},89998:function(e,t,r){var n=r(42627),s=r(67534),i=r(68679),o={};o._category=function(e){return n.TYPES_TO_CATEGORIES[e]||n.CATEGORIES.DIMENSION};var a={PAIR_GEOMETRY_FROM_STRING:!0,GEOMETRY_FROM_STRING:!0,NUMBER:!0},c={INT:!0,NUMBER:!0,FLOAT:!0};function u(e,t){e.push(t)}function l(){}o.computeColMeta=function(e,t,r){var d=(r=r||{}).ignoredDataTypes||[],E=r.keepUnknowns?u:l,T=n.VALIDATORS.filter(function(e){return 0>this.indexOf(e)},d);return e&&0!==Object.keys(e).length?Object.keys(e[0]).reduce(function(r,u){var l,d,_,R,p="",h=(t||[]).reduce(function(e,t){return e||(t.name&&t.name===u||t.regex&&t.regex.test(u)?t.dataType:e)},!1);!h&&(h=T.find((l=e,d=u,function(e){var t=l.filter(function(t){var r,s;return!(null===(r=t[d])||r===n.NULL||r===n.DB_NULL||void 0===r||Number.isNaN(r)&&c[e])&&(""!==r||!a[e])}),r=s[e],i=Math.min(3,t.length),o=0;return t.some(function(e){return Boolean(r(e[d]))?o++:i--,i<=0}),i>0&&o>0})));var f=o._category(h),S={key:u,label:u,type:n.DATA_TYPES.STRING,category:f||n.CATEGORIES.DIMENSION,format:""};if(!h)return E(r,S),r;if(S.type=h,h&&-1!==n.TIME_VALIDATORS.indexOf(h)){var m=i.findFirstNonNullValue(e,u);if(null===m)return E(r,S),r;p=i.detectTimeFormat(m,h)}if(S.format=p,h===n.DATA_TYPES.GEOMETRY){var O=i.findFirstNonNullValue(e,u);if(null===O)return E(r,S),r;S.geoType="string"==typeof O.type?O.type.toUpperCase():null}if(h===n.DATA_TYPES.GEOMETRY_FROM_STRING){var y=i.findFirstNonNullValue(e,u);if(null===y)return E(r,S),r;S.geoType=y.split(" ")[0].toUpperCase()}return h===n.DATA_TYPES.PAIR_GEOMETRY_FROM_STRING&&(S.geoType="POINT"),r.push(S),r},[]):[]},e.exports=o},42627:function(e){var t={DATA_TYPES:{DATE:"DATE",TIME:"TIME",DATETIME:"DATETIME",NUMBER:"NUMBER",INT:"INT",FLOAT:"FLOAT",CURRENCY:"CURRENCY",PERCENT:"PERCENT",STRING:"STRING",ZIPCODE:"ZIPCODE",BOOLEAN:"BOOLEAN",GEOMETRY:"GEOMETRY",GEOMETRY_FROM_STRING:"GEOMETRY_FROM_STRING",PAIR_GEOMETRY_FROM_STRING:"PAIR_GEOMETRY_FROM_STRING",NONE:"NONE",ARRAY:"ARRAY",DATE_OBJECT:"DATE_OBJECT",OBJECT:"OBJECT"},CATEGORIES:{GEOMETRY:"GEOMETRY",TIME:"TIME",DIMENSION:"DIMENSION",MEASURE:"MEASURE"},BOOLEAN_TRUE_VALUES:["true","yes"],BOOLEAN_FALSE_VALUES:["false","no"],DB_NULL:"\\N",NULL:"NULL"};t.POSSIBLE_TYPES={},t.POSSIBLE_TYPES[t.CATEGORIES.GEOMETRY]=[t.DATA_TYPES.GEOMETRY_FROM_STRING,t.DATA_TYPES.PAIR_GEOMETRY_FROM_STRING,t.DATA_TYPES.GEOMETRY],t.POSSIBLE_TYPES[t.CATEGORIES.TIME]=[t.DATA_TYPES.DATETIME,t.DATA_TYPES.DATE,t.DATA_TYPES.TIME],t.POSSIBLE_TYPES[t.CATEGORIES.DIMENSION]=[t.DATA_TYPES.STRING,t.DATA_TYPES.BOOLEAN,t.DATA_TYPES.ZIPCODE],t.POSSIBLE_TYPES[t.CATEGORIES.MEASURE]=[t.DATA_TYPES.NUMBER,t.DATA_TYPES.INT,t.DATA_TYPES.FLOAT,t.DATA_TYPES.CURRENCY,t.DATA_TYPES.PERCENT],t.TYPES_TO_CATEGORIES=Object.keys(t.POSSIBLE_TYPES).reduce(function(e,r){return t.POSSIBLE_TYPES[r].forEach(function(t){e[t]=r}),e},{}),t.VALIDATORS=[t.DATA_TYPES.GEOMETRY,t.DATA_TYPES.GEOMETRY_FROM_STRING,t.DATA_TYPES.PAIR_GEOMETRY_FROM_STRING,t.DATA_TYPES.BOOLEAN,t.DATA_TYPES.ARRAY,t.DATA_TYPES.DATE_OBJECT,t.DATA_TYPES.OBJECT,t.DATA_TYPES.CURRENCY,t.DATA_TYPES.PERCENT,t.DATA_TYPES.DATETIME,t.DATA_TYPES.DATE,t.DATA_TYPES.TIME,t.DATA_TYPES.INT,t.DATA_TYPES.FLOAT,t.DATA_TYPES.NUMBER,t.DATA_TYPES.ZIPCODE,t.DATA_TYPES.STRING],t.TIME_VALIDATORS=[t.DATA_TYPES.DATETIME,t.DATA_TYPES.DATE,t.DATA_TYPES.TIME],e.exports=t},82752:function(e,t,r){var n=r(28537),s={isNumber:/^(\+|\-)?\$?[\d,]*\.?\d+((e|E)(\+|\-)\d+)?%?$/,isInt:/^(\+|\-)?[\d,]+$/,isFloat:/^(\+|\-)?[\d,]*\.\d+?$/,isCurrency:/(?=.)^\$(([1-9][0-9]{0,2}(,[0-9]{3})*)|0)?(\.[0-9]{1,2})?$/,isPercentage:/^(\+|\-)?[\d,]*\.?\d+%$/,isZipCode:/(^\d{5}$)|(^\d{5}-\d{4}$)|(^\d{6}$)|(^\d{6}-\d{2}$)/,isTime:n.ALL_TIME_FORMAT_REGEX,isDate:n.DATE_FORMAT_REGEX,isDateTime:n.ALL_DATE_TIME_REGEX,isStringGeometry:/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON)/,isPairwisePointGeometry:/(\+|\-)?\d*\.\d*,( )?(\+|\-)?\d*\.\d*/,isObject:/^{([\s\S]*)}$/,isArray:/^\[([\s\S]*)\]$/};e.exports=s},28537:function(e){function t(e){return"("+e.join("|")+")"}var r="\\d{1,2}",n="\\d{1,2}",s="\\d{1,2}",i="\\d{1,2}",o="\\d{2}",a="(\\.\\d{1,6})",c="\\d{2}",u="(\\+|-)(\\d{4}|\\d{1,2}:\\d{2})",l="(am|pm)",d=["X","x","H:m","HH:mmZ","h:m a","H:m:s","h:m:s a","HH:mm:ssZZ","HH:mm:ss.SSSS","HH:mm:ss.SSSSZZ"].reverse(),E=["\\b\\d{12,13}\\b","\\b\\d{9,10}(\\.\\d{1,3})?\\b",n+":"+s,r+":"+c+"(\\+|-)\\d{1,2}:\\d{1,2}","\\d{1,2}:"+s+" "+l,n+":"+s+":"+i,n+":"+s+":"+i+" "+l,r+":"+c+":"+o+u,r+":"+c+":"+o+a,r+":"+c+":"+o+a+u].reverse(),T=d.reduce(function(e,t,r){return e[E[r]]=t,e},{}),_=t(Object.keys(T)),R=RegExp("^"+_+"$","i"),p="\\d{2,4}",h="\\d{1,2}",f=t(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),S=t(["January","February","March","April","May","June","July","August","September","October","November","December"]),m="\\d{1,2}",O="\\d{2}",y="\\d{1,2}(st|nd|rd|th)",A=[p+"-"+h+"-"+m,p+"\\/"+h+"\\/"+m,h+"\\/"+m+"\\/"+p,S+" "+O+", "+p,f+" "+O+", "+p,S+" "+y+", "+p,f+" "+y+", "+p],I=RegExp("^"+t(A)+"$","i"),b=["YYYY-M-D","YYYY/M/D","M/D/YYYY","MMMM DD, YYYY","MMM DD, YYYY","MMMM Do, YYYY","MMM Do, YYYY"].reduce(function(e,t,r){return e[A[r]]=t,e},{}),g=Object.keys(b).reduce(function(e,t){var r=b[t];return Object.keys(T).forEach(function(n){var s=T[n];e[t+" "+n]=r+" "+s,e[t+"T"+n]=r+"T"+s,e[n+"T"+t]=s+"T"+r,e[n+" "+t]=s+" "+r}),e},{}),N=RegExp(t(Object.keys(g)));e.exports={ALL_TIME_FORMAT_REGEX:R,TIME_FORMAT_REGEX_MAP:T,DATE_FORMAT_REGEX:I,DATE_FORMAT_REGEX_MAP:b,ALL_DATE_TIME_REGEX:N,DATE_TIME_MAP:g}},68679:function(e,t,r){var n=r(42627),s=r(82752),i=r(28537);function o(e,t){return function(r){if(e.test(r))for(var n=Object.keys(t),s=0;s<n.length;s++){var i=n[s],o=t[i];if(RegExp(i).test(r))return o}return!1}}var a=o(i.ALL_TIME_FORMAT_REGEX,i.TIME_FORMAT_REGEX_MAP),c=o(i.DATE_FORMAT_REGEX,i.DATE_FORMAT_REGEX_MAP),u=o(i.ALL_DATE_TIME_REGEX,i.DATE_TIME_MAP);function l(e){let t;try{t=JSON.parse(e)}catch(r){return!1}return t}function d(e){return"string"==typeof e}function E(e){return e===Object(e)&&"function"!=typeof e&&!Array.isArray(e)}function T(e){return Array.isArray(e)}e.exports={buildRegexCheck:function(e){return function(t){return s[e].test(t.toString())}},detectTimeFormat:function(e,t){switch(t){case n.DATA_TYPES.DATETIME:return u(e);case n.DATA_TYPES.DATE:default:return c(e);case n.DATA_TYPES.TIME:return a(e)}},findFirstNonNullValue:function(e,t){for(var r=0;r<e.length;r++)if(null!==e[r][t]&&e[r][t]!==n.NULL)return e[r][t];return null},isBoolean:function(e){return n.BOOLEAN_TRUE_VALUES.concat(n.BOOLEAN_FALSE_VALUES).indexOf(String(e).toLowerCase())>-1},isGeographic:function(e){return Boolean(e)&&"object"==typeof e&&e.hasOwnProperty("type")&&e.hasOwnProperty("coordinates")},isString:d,isArray:function(e){return Boolean(T(e)||function(e){if(!d(e)||!s.isArray.test(e))return!1;let t=l(e);return Boolean(t&&T(t))}(e))},isDateObject:function(e){return e instanceof Date},isObject:function(e){return Boolean(E(e)||function(e){if(!d(e)||!s.isObject.test(e))return!1;let t=l(e);return Boolean(t&&E(t))}(e))},whichFormatTime:a,whichFormatDate:c,whichFormatDateTime:u}},67534:function(e,t,r){var n=r(42627),s=r(68679),i=n.DATA_TYPES,o={};o[i.GEOMETRY]=s.isGeographic,o[i.GEOMETRY_FROM_STRING]=s.buildRegexCheck("isStringGeometry"),o[i.PAIR_GEOMETRY_FROM_STRING]=s.buildRegexCheck("isPairwisePointGeometry"),o[i.BOOLEAN]=s.isBoolean,o[i.DATE_OBJECT]=s.isDateObject,o[i.CURRENCY]=s.buildRegexCheck("isCurrency"),o[i.PERCENT]=s.buildRegexCheck("isPercentage"),o[i.ARRAY]=s.isArray,o[i.OBJECT]=s.isObject,o[i.DATETIME]=s.buildRegexCheck("isDateTime"),o[i.DATE]=s.buildRegexCheck("isDate"),o[i.TIME]=s.buildRegexCheck("isTime");let a=s.buildRegexCheck("isInt");function c(e){if(a(e)){var t=parseInt(e.toString().replace(/(\+|,)/g,""),10);return t>Number.MIN_SAFE_INTEGER&&t<Number.MAX_SAFE_INTEGER}return!1}o[i.INT]=c;let u=s.buildRegexCheck("isFloat");function l(e){return u(e)||c(e)}o[i.FLOAT]=l,o[i.NUMBER]=function(e){return!isNaN(e)||c(e)||l(e)},o[i.ZIPCODE]=s.buildRegexCheck("isZipCode"),o[i.STRING]=s.isString,e.exports=o},87736:function(e,t,r){e.exports=r.p+"static/media/duckdb-browser-eh.worker.90182412.js"},83123:function(e,t,r){e.exports=r.p+"static/media/duckdb-browser-mvp.worker.57e4a08a.js"},78514:function(e,t,r){e.exports=r.p+"static/media/duckdb-eh.e46bd00c.wasm"},4413:function(e,t,r){e.exports=r.p+"static/media/duckdb-mvp.6b0360a1.wasm"},88022:function(e,t,r){r.d(t,{Dn:function(){return es},ak:function(){return H},kw:function(){return L}});var n,s,i,o,a,c,u,l,d,E,T,_,R,p,h=r(6906),f=r(54909),S=r(11321),m=r(80059),O=Object.create,y=Object.defineProperty,A=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,b=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,N=(o=(e,t)=>{t.exports=Worker},()=>(a||o((a={exports:{}}).exports,a),a.exports)),w=((c=w||{})[c.UNDEFINED=0]="UNDEFINED",c[c.AUTOMATIC=1]="AUTOMATIC",c[c.READ_ONLY=2]="READ_ONLY",c[c.READ_WRITE=3]="READ_WRITE",c),P=((u=P||{})[u.IDENTIFIER=0]="IDENTIFIER",u[u.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",u[u.STRING_CONSTANT=2]="STRING_CONSTANT",u[u.OPERATOR=3]="OPERATOR",u[u.KEYWORD=4]="KEYWORD",u[u.COMMENT=5]="COMMENT",u),k=((l=k||{})[l.NONE=0]="NONE",l[l.DEBUG=1]="DEBUG",l[l.INFO=2]="INFO",l[l.WARNING=3]="WARNING",l[l.ERROR=4]="ERROR",l),D=((d=D||{})[d.NONE=0]="NONE",d[d.CONNECT=1]="CONNECT",d[d.DISCONNECT=2]="DISCONNECT",d[d.OPEN=3]="OPEN",d[d.QUERY=4]="QUERY",d[d.INSTANTIATE=5]="INSTANTIATE",d),M=((E=M||{})[E.NONE=0]="NONE",E[E.OK=1]="OK",E[E.ERROR=2]="ERROR",E[E.START=3]="START",E[E.RUN=4]="RUN",E[E.CAPTURE=5]="CAPTURE",E),F=((T=F||{})[T.NONE=0]="NONE",T[T.WEB_WORKER=1]="WEB_WORKER",T[T.NODE_WORKER=2]="NODE_WORKER",T[T.BINDINGS=3]="BINDINGS",T[T.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",T),L=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},v=((_=v||{})[_.SUCCESS=0]="SUCCESS",_),C=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),r=h.so.from(t);return console.assert(r.isSync(),"Reader is not sync"),console.assert(r.isFile(),"Reader is not file"),new f.iA(r)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.startPendingQuery(this._conn,e);for(;null==t;)t=await this._bindings.pollPendingQuery(this._conn);let r=await h.so.from(new Y(this._bindings,this._conn,t));return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new U(this._bindings,this._conn,t)}async insertArrowTable(e,t){await this.insertArrowFromIPCStream(S.U(e,"stream"),t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},Y=class{constructor(e,t,r){this.db=e,this.conn=t,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return null!=this._inFlight?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=0==e.length,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},U=class{constructor(e,t,r){this.bindings=e,this.connectionId=t,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),r=h.so.from(t);return console.assert(r.isSync()),console.assert(r.isFile()),new f.iA(r)}async send(...e){let t,r=await h.so.from(new Y(this.bindings,this.connectionId,await this.bindings.sendPrepared(this.connectionId,this.statementId,e)));return console.assert(r.isAsync()),console.assert(r.isStream()),r}},j=((R=j||{}).CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",R.CLOSE_PREPARED="CLOSE_PREPARED",R.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",R.CONNECT="CONNECT",R.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",R.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",R.CREATE_PREPARED="CREATE_PREPARED",R.DISCONNECT="DISCONNECT",R.DROP_FILE="DROP_FILE",R.DROP_FILES="DROP_FILES",R.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",R.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",R.FLUSH_FILES="FLUSH_FILES",R.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",R.GET_TABLE_NAMES="GET_TABLE_NAMES",R.GET_VERSION="GET_VERSION",R.GLOB_FILE_INFOS="GLOB_FILE_INFOS",R.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",R.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",R.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",R.INSTANTIATE="INSTANTIATE",R.OPEN="OPEN",R.PING="PING",R.POLL_PENDING_QUERY="POLL_PENDING_QUERY",R.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",R.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",R.REGISTER_FILE_URL="REGISTER_FILE_URL",R.RESET="RESET",R.RUN_PREPARED="RUN_PREPARED",R.RUN_QUERY="RUN_QUERY",R.SEND_PREPARED="SEND_PREPARED",R.START_PENDING_QUERY="START_PENDING_QUERY",R.TOKENIZE="TOKENIZE",R),G=((p=G||{}).CONNECTION_INFO="CONNECTION_INFO",p.ERROR="ERROR",p.FEATURE_FLAGS="FEATURE_FLAGS",p.FILE_BUFFER="FILE_BUFFER",p.FILE_INFOS="FILE_INFOS",p.FILE_SIZE="FILE_SIZE",p.FILE_STATISTICS="FILE_STATISTICS",p.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",p.LOG="LOG",p.OK="OK",p.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",p.QUERY_PLAN="QUERY_PLAN",p.QUERY_RESULT="QUERY_RESULT",p.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",p.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",p.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",p.REGISTERED_FILE="REGISTERED_FILE",p.SCRIPT_TOKENS="SCRIPT_TOKENS",p.SUCCESS="SUCCESS",p.TABLE_NAMES="TABLE_NAMES",p.VERSION_STRING="VERSION_STRING",p),B=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((e,t)=>{this.promiseResolver=e,this.promiseRejecter=t})}};function x(e,t){let r=function e(t){switch(t.typeId){case m.Dy.Binary:return{sqlType:"binary"};case m.Dy.Bool:return{sqlType:"bool"};case m.Dy.Date:return{sqlType:"date"};case m.Dy.DateDay:return{sqlType:"date32[d]"};case m.Dy.DateMillisecond:return{sqlType:"date64[ms]"};case m.Dy.Decimal:return{sqlType:"decimal",precision:t.precision,scale:t.scale};case m.Dy.Float:return{sqlType:"float"};case m.Dy.Float16:return{sqlType:"float16"};case m.Dy.Float32:return{sqlType:"float32"};case m.Dy.Float64:return{sqlType:"float64"};case m.Dy.Int:return{sqlType:"int32"};case m.Dy.Int16:return{sqlType:"int16"};case m.Dy.Int32:return{sqlType:"int32"};case m.Dy.Int64:return{sqlType:"int64"};case m.Dy.Uint16:return{sqlType:"uint16"};case m.Dy.Uint32:return{sqlType:"uint32"};case m.Dy.Uint64:return{sqlType:"uint64"};case m.Dy.Uint8:return{sqlType:"uint8"};case m.Dy.IntervalDayTime:return{sqlType:"interval[dt]"};case m.Dy.IntervalYearMonth:return{sqlType:"interval[m]"};case m.Dy.List:return{sqlType:"list",valueType:e(t.valueType)};case m.Dy.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case m.Dy.Null:return{sqlType:"null"};case m.Dy.Utf8:return{sqlType:"utf8"};case m.Dy.Struct:return{sqlType:"struct",fields:t.children.map(e=>x(e.name,e.type))};case m.Dy.Map:return{sqlType:"map",keyType:e(t.keyType),valueType:e(t.valueType)};case m.Dy.Time:return{sqlType:"time[s]"};case m.Dy.TimeMicrosecond:return{sqlType:"time[us]"};case m.Dy.TimeMillisecond:return{sqlType:"time[ms]"};case m.Dy.TimeNanosecond:return{sqlType:"time[ns]"};case m.Dy.TimeSecond:return{sqlType:"time[s]"};case m.Dy.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case m.Dy.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case m.Dy.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case m.Dy.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case m.Dy.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw Error("unsupported arrow type: ".concat(t.toString()))}(t);return r.name=e,r}var q=new TextEncoder,H=class{constructor(e,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),null!=t&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let r=this._nextMessageId++;return this._pendingRequests.set(r,e),this._worker.postMessage({messageId:r,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let r=e.data;switch(r.type){case"LOG":this._logger.log(r.data);return;case"INSTANTIATE_PROGRESS":for(let n of this._onInstantiationProgress)n(r.data);return}let s=this._pendingRequests.get(r.requestId);if(!s){console.warn("unassociated response: [".concat(r.requestId,", ").concat(r.type.toString(),"]"));return}if(this._pendingRequests.delete(r.requestId),"ERROR"==r.type){let i=Error(r.data.message);i.name=r.data.name,null!=(t=Object.getOwnPropertyDescriptor(i,"stack"))&&t.writable&&(i.stack=r.data.stack),s.promiseRejecter(i);return}switch(s.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if("OK"==r.type){s.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],"OK"==r.type){s.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if("FILE_INFOS"==r.type){s.promiseResolver(r.data);return}break;case"GET_VERSION":if("VERSION_STRING"==r.type){s.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if("FEATURE_FLAGS"==r.type){s.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if("TABLE_NAMES"==r.type){s.promiseResolver(r.data);return}break;case"TOKENIZE":if("SCRIPT_TOKENS"==r.type){s.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if("FILE_BUFFER"==r.type){s.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if("FILE_STATISTICS"==r.type){s.promiseResolver(r.data);return}break;case"CONNECT":if("CONNECTION_INFO"==r.type){s.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if("QUERY_RESULT"==r.type){s.promiseResolver(r.data);return}break;case"SEND_PREPARED":if("QUERY_RESULT_HEADER"==r.type){s.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":case"POLL_PENDING_QUERY":if("QUERY_RESULT_HEADER_OR_NULL"==r.type){s.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],"SUCCESS"==r.type){s.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if("QUERY_RESULT_CHUNK"==r.type){s.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if("PREPARED_STATEMENT_ID"==r.type){s.promiseResolver(r.data);return}}s.promiseRejecter(Error("unexpected response type: ".concat(r.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),0!=this._pendingRequests.size){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){return await this.postTask(new B("RESET",null))}async ping(){await this.postTask(new B("PING",null))}async dropFile(e){return await this.postTask(new B("DROP_FILE",e))}async dropFiles(){return await this.postTask(new B("DROP_FILES",null))}async flushFiles(){return await this.postTask(new B("FLUSH_FILES",null))}async instantiate(e,t=null,r=e=>{}){return this._onInstantiationProgress.push(r),await this.postTask(new B("INSTANTIATE",[e,t]))}async getVersion(){return await this.postTask(new B("GET_VERSION",null))}async getFeatureFlags(){return await this.postTask(new B("GET_FEATURE_FLAGS",null))}async open(e){await this.postTask(new B("OPEN",e))}async tokenize(e){return await this.postTask(new B("TOKENIZE",e))}async connectInternal(){return await this.postTask(new B("CONNECT",null))}async connect(){let e=await this.connectInternal();return new C(this,e)}async disconnect(e){await this.postTask(new B("DISCONNECT",e))}async runQuery(e,t){return await this.postTask(new B("RUN_QUERY",[e,t]))}async startPendingQuery(e,t){return await this.postTask(new B("START_PENDING_QUERY",[e,t]))}async pollPendingQuery(e){return await this.postTask(new B("POLL_PENDING_QUERY",e))}async cancelPendingQuery(e){return await this.postTask(new B("CANCEL_PENDING_QUERY",e))}async fetchQueryResults(e){return await this.postTask(new B("FETCH_QUERY_RESULTS",e))}async getTableNames(e,t){return await this.postTask(new B("GET_TABLE_NAMES",[e,t]))}async createPrepared(e,t){return await this.postTask(new B("CREATE_PREPARED",[e,t]))}async closePrepared(e,t){await this.postTask(new B("CLOSE_PREPARED",[e,t]))}async runPrepared(e,t,r){return await this.postTask(new B("RUN_PREPARED",[e,t,r]))}async sendPrepared(e,t,r){return await this.postTask(new B("SEND_PREPARED",[e,t,r]))}async globFiles(e){return await this.postTask(new B("GLOB_FILE_INFOS",e))}async registerFileText(e,t){await this.registerFileBuffer(e,q.encode(t))}async registerFileURL(e,t,r,n){void 0===t&&(t=e),await this.postTask(new B("REGISTER_FILE_URL",[e,t,r,n]))}async registerEmptyFileBuffer(e){await this.postTask(new B("REGISTER_FILE_BUFFER",[e,new Uint8Array]))}async registerFileBuffer(e,t){await this.postTask(new B("REGISTER_FILE_BUFFER",[e,t]),[t.buffer])}async registerFileHandle(e,t,r,n){await this.postTask(new B("REGISTER_FILE_HANDLE",[e,t,r,n]),[])}async collectFileStatistics(e,t){await this.postTask(new B("COLLECT_FILE_STATISTICS",[e,t]),[])}async exportFileStatistics(e){return await this.postTask(new B("EXPORT_FILE_STATISTICS",e),[])}async copyFileToBuffer(e){return await this.postTask(new B("COPY_FILE_TO_BUFFER",e))}async copyFileToPath(e,t){await this.postTask(new B("COPY_FILE_TO_PATH",[e,t]))}async insertArrowFromIPCStream(e,t,r){if(0!=t.length)await this.postTask(new B("INSERT_ARROW_FROM_IPC_STREAM",[e,t,r]),[t.buffer])}async insertCSVFromPath(e,t,r){if(void 0!==r.columns){let n=[];for(let s in r.columns){let i=r.columns[s];n.push(x(s,i))}r.columnsFlat=n,delete r.columns}await this.postTask(new B("IMPORT_CSV_FROM_PATH",[e,t,r]))}async insertJSONFromPath(e,t,r){if(void 0!==r.columns){let n=[];for(let s in r.columns){let i=r.columns[s];n.push(x(s,i))}r.columnsFlat=n,delete r.columns}await this.postTask(new B("IMPORT_JSON_FROM_PATH",[e,t,r]))}},Q=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),V=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),W=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),K=()=>(async e=>{try{return"u">typeof MessageChannel&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(t){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),z={name:"@duckdb/duckdb-wasm",version:"1.28.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^13.0.0"},devDependencies:{"@types/emscripten":"^1.39.8","@types/jasmine":"^4.3.1","@typescript-eslint/eslint-plugin":"^6.5.0","@typescript-eslint/parser":"^6.7.3",esbuild:"^0.19.5",eslint:"^8.50.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.33.2","fast-glob":"^3.3.1",jasmine:"^5.1.0","jasmine-core":"^5.1.1","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.0.2",puppeteer:"^21.1.1",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.2",typescript:"^5.2.2","wasm-feature-detect":"^1.5.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}};z.name,z.version;var J=z.version.split(".");J[0],J[1],J[2];var X=()=>typeof navigator>"u",Z=null,$=null,ee=null,et=null,er=null;async function en(){return null==Z&&(Z="u">typeof BigInt64Array),null==$&&($=await V()),null==ee&&(ee=await K()),null==et&&(et=await W()),null==er&&(er=await Q()),{bigInt64Array:Z,crossOriginIsolated:X()||globalThis.crossOriginIsolated||!1,wasmExceptions:$,wasmSIMD:et,wasmThreads:ee,wasmBulkMemory:er}}async function es(e){let t=await en();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}s=null!=(n=N())?O(b(n)):{},((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of I(t))g.call(e,s)||void 0===s||y(e,s,{get:()=>t[s],enumerable:!(n=A(t,s))||n.enumerable});return e})(n&&n.__esModule?s:y(s,"default",{value:n,enumerable:!0}),n);let ei;ei=new TextDecoder,e=>("u">typeof SharedArrayBuffer&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),ei.decode(e));var eo=((i=eo||{})[i.BUFFER=0]="BUFFER",i[i.NODE_FS=1]="NODE_FS",i[i.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",i[i.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",i[i.HTTP=4]="HTTP",i[i.S3=5]="S3",i)},63764:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){return function t(){for(var r=this,n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(r,[].concat(s,n))}}}function d(e){return({}).toString.call(e).includes("Object")}function E(e){return"function"==typeof e}r.d(t,{ZP:function(){return X}});var T=l(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),_={changes:function(e,t){return d(t)||T("changeType"),Object.keys(t).some(function(t){var r,n;return!Object.prototype.hasOwnProperty.call(e,t)})&&T("changeField"),t},selector:function(e){E(e)||T("selectorType")},handler:function(e){E(e)||d(e)||T("handlerType"),d(e)&&Object.values(e).some(function(e){return!E(e)})&&T("handlersType")},initial:function(e){var t;e||T("initialIsRequired"),d(e)||T("initialType"),!Object.keys(e).length&&T("initialContent")}};function R(e,t){return E(t)?t(e.current):t}function p(e,t){return e.current=u(u({},e.current),t),t}function h(e,t,r){return E(t)?t(e.current):Object.keys(r).forEach(function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])}),r}var f,S,m,O={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},y=(f=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return n.length>=f.length?f.apply(this,n):function(){for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return e.apply(t,[].concat(n,s))}})(O),A={config:function(e){var t;return e||y("configIsRequired"),!({}).toString.call(e).includes("Object")&&y("configType"),e.urls?(console.warn(O.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},I=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},b={type:"cancelation",msg:"operation is manually canceled"},g=function(e){var t=!1,r=new Promise(function(r,n){e.then(function(e){return t?n(b):r(e)}),e.catch(n)});return r.cancel=function(){return t=!0},r},N=function(e){if(Array.isArray(e))return e}(S=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.initial(e),_.handler(t);var r={current:e},n=l(h)(r,t),s=l(p)(r),i=l(_.changes)(e),o=l(R)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return _.selector(e),e(r.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(n,s,i,o)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){s=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(s)throw i}}return r}}(S,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(S,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=N[0],P=N[1];function k(e){return document.body.appendChild(e)}function D(e){var t,r,n=w(function(e){var t;return{config:e.config,reject:e.reject}}),s=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return s.onload=function(){return e()},s.onerror=n.reject,s}function M(){var e=w(function(e){var t,r=e.config;return{config:r,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){F(t),e.resolve(t)},function(t){e.reject(t)})}function F(e){w().monaco||P({monaco:e})}var L=new Promise(function(e,t){return P({resolve:e,reject:t})}),v={config:function(e){var t=A.config(e),r=t.monaco,n=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(t,["monaco"]);P(function(e){return{config:function e(t,r){return Object.keys(r).forEach(function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))}),i(i({},t),r)}(e.config,n),monaco:r}})},init:function(){var e=w(function(e){var t,r=e.monaco;return{monaco:r,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(P({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),g(L);if(window.monaco&&window.monaco.editor)return F(window.monaco),e.resolve(window.monaco),g(L);I(k,D)(M)}return g(L)},__getMonacoInstance:function(){return w(function(e){return e.monaco})}},C=r(67294),Y={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},U={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},j=function({children:e}){return C.createElement("div",{style:U.container},e)},G=function({width:e,height:t,isEditorReady:r,loading:n,_ref:s,className:i,wrapperProps:o}){return C.createElement("section",{style:{...Y.wrapper,width:e,height:t},...o},!r&&C.createElement(j,null,n),C.createElement("div",{ref:s,style:{...Y.fullWidth,...!r&&Y.hide},className:i}))},B=(0,C.memo)(G),x=function(e){(0,C.useEffect)(e,[])},q=function(e,t,r=!0){let n=(0,C.useRef)(!0);(0,C.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function H(){}function Q(e,t,r,n){var s,i,o,a,c,u;return s=e,i=n,s.editor.getModel(V(s,i))||(o=e,a=t,c=r,u=n,o.editor.createModel(a,c,u?V(o,u):void 0))}function V(e,t){return e.Uri.parse(t)}var W=function({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:l="Loading...",options:d={},height:E="100%",width:T="100%",className:_,wrapperProps:R={},beforeMount:p=H,onMount:h=H}){let[f,S]=(0,C.useState)(!1),[m,O]=(0,C.useState)(!0),y=(0,C.useRef)(null),A=(0,C.useRef)(null),I=(0,C.useRef)(null),b=(0,C.useRef)(h),g=(0,C.useRef)(p),N=(0,C.useRef)(!1);x(()=>{let e=v.init();return e.then(e=>(A.current=e)&&O(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return y.current?(t=y.current?.getModel(),void(a||t?.original?.dispose(),c||t?.modified?.dispose(),y.current?.dispose())):e.cancel()}}),q(()=>{if(y.current&&A.current){let t=y.current.getOriginalEditor(),s=Q(A.current,e||"",n||r||"text",i||"");s!==t.getModel()&&t.setModel(s)}},[i],f),q(()=>{if(y.current&&A.current){let e=y.current.getModifiedEditor(),n=Q(A.current,t||"",s||r||"text",o||"");n!==e.getModel()&&e.setModel(n)}},[o],f),q(()=>{let e=y.current.getModifiedEditor();e.getOption(A.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],f),q(()=>{y.current?.getModel()?.original.setValue(e||"")},[e],f),q(()=>{let{original:e,modified:t}=y.current.getModel();A.current.editor.setModelLanguage(e,n||r||"text"),A.current.editor.setModelLanguage(t,s||r||"text")},[r,n,s],f),q(()=>{A.current?.editor.setTheme(u)},[u],f),q(()=>{y.current?.updateOptions(d)},[d],f);let w=(0,C.useCallback)(()=>{if(!A.current)return;g.current(A.current);let a=Q(A.current,e||"",n||r||"text",i||""),c=Q(A.current,t||"",s||r||"text",o||"");y.current?.setModel({original:a,modified:c})},[r,t,s,e,n,i,o]),P=(0,C.useCallback)(()=>{!N.current&&I.current&&(y.current=A.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...d}),w(),A.current?.editor.setTheme(u),S(!0),N.current=!0)},[d,u,w]);return(0,C.useEffect)(()=>{f&&b.current(y.current,A.current)},[f]),(0,C.useEffect)(()=>{m||f||P()},[m,f,P]),C.createElement(B,{width:T,height:E,isEditorReady:f,loading:l,_ref:I,className:_,wrapperProps:R})};(0,C.memo)(W);var K=function(e){let t=(0,C.useRef)();return(0,C.useEffect)(()=>{t.current=e},[e]),t.current},z=new Map,J=function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:s,path:i,theme:o="light",line:a,loading:c="Loading...",options:u={},overrideServices:l={},saveViewState:d=!0,keepCurrentModel:E=!1,width:T="100%",height:_="100%",className:R,wrapperProps:p={},beforeMount:h=H,onMount:f=H,onChange:S,onValidate:m=H}){let[O,y]=(0,C.useState)(!1),[A,I]=(0,C.useState)(!0),b=(0,C.useRef)(null),g=(0,C.useRef)(null),N=(0,C.useRef)(null),w=(0,C.useRef)(f),P=(0,C.useRef)(h),k=(0,C.useRef)(),D=(0,C.useRef)(n),M=K(i),F=(0,C.useRef)(!1),L=(0,C.useRef)(!1);x(()=>{let e=v.init();return e.then(e=>(b.current=e)&&I(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>g.current?void(k.current?.dispose(),E?d&&z.set(i,g.current.saveViewState()):g.current.getModel()?.dispose(),g.current.dispose()):e.cancel()}),q(()=>{let o=Q(b.current,e||n||"",t||s||"",i||r||"");o!==g.current?.getModel()&&(d&&z.set(M,g.current?.saveViewState()),g.current?.setModel(o),d&&g.current?.restoreViewState(z.get(i)))},[i],O),q(()=>{g.current?.updateOptions(u)},[u],O),q(()=>{g.current&&void 0!==n&&(g.current.getOption(b.current.editor.EditorOption.readOnly)?g.current.setValue(n):n===g.current.getValue()||(L.current=!0,g.current.executeEdits("",[{range:g.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),g.current.pushUndoStop(),L.current=!1))},[n],O),q(()=>{let e=g.current?.getModel();e&&s&&b.current?.editor.setModelLanguage(e,s)},[s],O),q(()=>{void 0!==a&&g.current?.revealLine(a)},[a],O),q(()=>{b.current?.editor.setTheme(o)},[o],O);let Y=(0,C.useCallback)(()=>{if(!(!N.current||!b.current)&&!F.current){P.current(b.current);let c=i||r,E=Q(b.current,n||e||"",t||s||"",c||"");g.current=b.current?.editor.create(N.current,{model:E,automaticLayout:!0,...u},l),d&&g.current.restoreViewState(z.get(c)),b.current.editor.setTheme(o),void 0!==a&&g.current.revealLine(a),y(!0),F.current=!0}},[e,t,r,n,s,i,u,l,d,o,a]);return(0,C.useEffect)(()=>{O&&w.current(g.current,b.current)},[O]),(0,C.useEffect)(()=>{A||O||Y()},[A,O,Y]),D.current=n,(0,C.useEffect)(()=>{O&&S&&(k.current?.dispose(),k.current=g.current?.onDidChangeModelContent(e=>{L.current||S(g.current.getValue(),e)}))},[O,S]),(0,C.useEffect)(()=>{if(O){let e=b.current.editor.onDidChangeMarkers(e=>{let t=g.current.getModel()?.uri;t&&e.find(e=>e.path===t.path)&&m?.(b.current.editor.getModelMarkers({resource:t}))});return()=>{e?.dispose()}}return()=>{}},[O,m]),C.createElement(B,{width:T,height:_,isEditorReady:O,loading:c,_ref:N,className:R,wrapperProps:p})},X=(0,C.memo)(J)}}]);